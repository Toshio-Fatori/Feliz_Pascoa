<!DOCTYPE html>
<html>

<head>
    <title>FELIZ PASCOA</title>
    <link rel="stylesheet" type="text/css" href="home.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Delius&display=swap" rel="stylesheet">
    <link
        href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@400..700&family=Pacifico&family=Playwrite+RO:wght@100..400&display=swap"
        rel="stylesheet">
</head>

<body>
    <div class="page">
        <h1 class="title"> Feliz P√°scoa!</h1>
        <div id="formulario">
            <div id="form_nome">
                <input type="text" id="input_Nome" placeholder="Insira seu nomeüê∞:" required>
                <input type="submit" class="botao" value="OK" onclick="verificar()">
            </div>
            <div id="erro" style="display: none;">Por favor, insira seu nome!</div>
        </div>
        <div id="popup">
            <p id="message"></p>
            <input type="submit" id="X" class="botao" value="X" onclick="ocultar_popup()">
        </div>
        <div class="footer">
            <p> Oferecimento Marie & Toshio
                <br> Caso queira um sistema entre em contato.
                <br> N√£o garanto quando sai, mas em algum momento entrego
            </p>
        </div>
    </div>
</body>
<script>
    let form = document.getElementById("formulario");
    let popup = document.getElementById("popup");
    let message = document.getElementById("message");

    const submit = () => {
        let random = Math.floor(Math.random() * 100);
        let nome = formatar_nome(document.getElementById("input_Nome").value);

        if (random < 7) {
            exibir_popup("Parab√©ns " + nome + " a gra√ßa da sorte est√° ao seu lado, mostre ao Toshio esta mensagem e ganhe outro chocolate<br> obs: V√°lido somente enquanto durarem os estoques!");
        } else {
            switch (remover_acentos(nome)) {
                case "Andre":
                    exibir_popup("Bem por vc me deixar ir na STOCK que eu estou fazendo isso.<br> Ganhe +1 chocolate<br> Hj foi essa p√°gina quem sabe na pr√≥xima n√£o √© o app de controle de caixa haha");
                    break;
                case "Ronaldo":
                    exibir_popup("Bem domingo √©/foi o seu anivers√°rio<br> Feliz Anivers√°rio lhe dessejo tudo de bom<br> Pelo seu anivers√°rio ganhe +1 chocolate");
                    break;
                case "Pancada":
                    exibir_popup("Achou saboroso o meu ovo? eu te dou +1 para vc poder saborear os dois hahaha");
                    break;
                case "Toshio":
                    exibir_popup("N√£o subestimem o seu Deus Criador!!");
                    break;
                case "Jefferson":
                    exibir_popup("Feliz Natal, voc√™ √© um amigo incriv√©l ganhe ganhe +1 chocolate!");
                    break;
                case "Djerffs":
                    exibir_popup("Feliz Natal, voc√™ √© um amigo incriv√©l ganhe ganhe +1 chocolate!");
                    break;
                default:
                    exibir_popup(mensagem_padrao(nome, random));
                    break;
            }
        }
        document.getElementById("input_Nome").value = "";
    }
    const exibir_popup = (mensagem) => {
        message.innerHTML = mensagem;
        form.style.display = "none";
        popup.style.display = "block";
    }
    const ocultar_popup = () => {
        popup.style.display = "none";
        form.style.display = "block";
    }
    const mensagem_padrao = (nome, random) => {
        if (random > 69) {
            return (nome + ", espero que goste do meu chocolate :)");
        } else if (random > 38) {
            return (nome + ", espero que sua p√°scoa seja repleta de felicidade e esperan√ßa!");
        } else if (random > 7) {
            return (nome + ", que este dia especial seja repleto de paz, amor e muitos chocolates!")
        } else {
            return ("Parab√©ns " + nome + " a gra√ßa da sorte est√° ao seu lado, mostre ao Toshio esta mensagem e ganhe outro chocolate<br> obs: V√°lido somente enquanto durarem os estoques!");
        }
    }
    const remover_acentos = (string) => {
        return string
            .normalize("NFD")
            .replace(/[\u0300-\u036f]/g, "")
            .replace(/[.,\/#!$%\^&\*;:{}=\-_`~()?"']/g, "")
            .replace(/\s{2,}/g, " ");
    }
    const formatar_nome = (string) => {
        return string
            .split(' ')
            .map(word => word.charAt(0).toUpperCase() + word.slice(1).toLowerCase())
            .join(' ');
    }
    const verificar = () => {
        const nome = document.getElementById("input_Nome").value.trim();
        let erro = document.getElementById("erro");
        if (!nome) {
            erro.style.display = "block"
        } else {
            erro.style.display = "none"
            submit()
        }
    }
</script>

</html>